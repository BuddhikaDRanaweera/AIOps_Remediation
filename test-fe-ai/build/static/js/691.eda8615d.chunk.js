"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[691],{1691:(e,n,t)=>{t.r(n),t.d(n,{default:()=>P});var i=t(9650),o=t(3336),l=t(1806),s=t(3460),r=t(8076),d=t(2420),c=t(4882),a=t(1906),x=t(6213),h=t(5043),j=t(3156),m=t(3003),A=t(3216),v=t(811),u=t(4663),g=t(430),b=t(8742),f=t(5235),p=t(2759),S=t(9958),y=t(1045),E=t(3766),T=t(6605),B=t(7642),I=t(710),D=t(6446),C=t(2110),k=t(6494),L=t(5865),N=t(579);const R=e=>{var n,t,i,o,l,s,r;let{data:d}=e;const c=e=>{const n=new Date(e),t=n.getDate(),i=n.getMonth()+1,o=n.getFullYear(),l=n.getHours(),s=n.getMinutes();return"".concat(t,"/").concat(i,"/").concat(o," - ").concat(l,":").concat(s)};return(0,N.jsxs)(C.A,{sx:{marginLeft:"5rem",marginBottom:"1rem"},children:[(0,N.jsx)(S.A,{sx:{bgcolor:"#0f0f80"},avatar:(0,N.jsx)(y.A,{sx:{bgcolor:" green"},children:(0,N.jsx)(f.A,{})}),title:(0,N.jsxs)(L.A,{variant:"h6",sx:{fontSize:"1.5rem",textAlign:"left",color:"white"},children:[null===d||void 0===d?void 0:d.impactedEntities[0].name," : ",null===d||void 0===d?void 0:d.title]})}),(0,N.jsxs)(k.A,{children:[(0,N.jsx)("div",{children:(0,N.jsxs)(E.A,{children:[(0,N.jsx)(T.A,{expandIcon:(0,N.jsx)(g.A,{}),"aria-controls":"panel2-content",id:"panel2-header",children:(0,N.jsxs)(L.A,{children:["Problem ",null===d||void 0===d?void 0:d.displayId," references.",null===d||void 0===d||null===(n=d.evidenceDetails)||void 0===n||null===(t=n.details)||void 0===t?void 0:t.length," individual events occured."]})}),(0,N.jsx)(I.A,{children:null===d||void 0===d||null===(i=d.evidenceDetails)||void 0===i?void 0:i.details.slice(0,3).map(((e,n)=>(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:[c(e.startTime)," : Time of event ",n+1," ","reported"]}),(0,N.jsxs)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:[c(e.endTime)," : Time of event ",n+1," closed"]})]})))})]})}),(0,N.jsx)("br",{}),(0,N.jsxs)(L.A,{sx:{fontSize:"1rem",textAlign:"left",color:"black"},gutterBottom:!0,children:["Root Cause Entity : ",(null===d||void 0===d||null===(o=d.rootCauseEntity)||void 0===o?void 0:o.name)||"---",(0,N.jsx)("br",{}),null===d||void 0===d||null===(l=d.evidenceDetails)||void 0===l||null===(s=l.details[0])||void 0===s||null===(r=s.data)||void 0===r?void 0:r.properties[0].value]}),(0,N.jsxs)(B.A,{direction:"row",spacing:2,justifyContent:"center",my:4,children:[(0,N.jsx)(D.A,{display:"flex",alignItems:"center",justifyContent:"center",p:2,sx:{border:"2px solid grey"},children:(0,N.jsx)(u.A,{})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"Affected applications"}),(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"APPLICATIONS"===(null===d||void 0===d?void 0:d.impactLevel)?null===d||void 0===d?void 0:d.affectedEntities.length:0})]}),(0,N.jsx)(D.A,{display:"flex",alignItems:"center",justifyContent:"center",p:2,sx:{border:"2px solid grey"},children:(0,N.jsx)(b.A,{})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"Affected services"}),(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"SERVICES"===(null===d||void 0===d?void 0:d.impactLevel)?null===d||void 0===d?void 0:d.affectedEntities.length:0})]}),(0,N.jsx)(D.A,{display:"flex",alignItems:"center",justifyContent:"center",p:2,sx:{border:"2px solid grey"},children:(0,N.jsx)(p.A,{})}),(0,N.jsxs)("div",{children:[(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"Affected infrastructure"}),(0,N.jsx)(L.A,{sx:{fontSize:"0.9rem",textAlign:"left",color:"black"},children:"INFRASTRUCTURE"===(null===d||void 0===d?void 0:d.impactLevel)?null===d||void 0===d?void 0:d.affectedEntities.length:0})]})]})]})]})};var M=t(594);const P=()=>{var e,n,t;const{PID:u,ExecutionId:g}=(0,A.g)(),{isLoading:b,error:f,data:p,getData:S}=(0,M.A)();console.log(u);const y=(0,m.wA)(),E=(0,A.Zp)(),[T,B]=(0,h.useState)();console.log(p);const I="https://zvq81199.live.dynatrace.com/api/v2/problems/".concat(u),D=e=>{const n=new Date(e),t=n.getDate(),i=n.getMonth()+1,o=n.getFullYear(),l=n.getHours(),s=n.getMinutes(),r=n.getSeconds();return"".concat(t,"/").concat(i,"/").concat(o," - ").concat(String(l).padStart(2,"0")," : ").concat(String(s).padStart(2,"0")," : ").concat(String(r).padStart(2,"0"))};return(0,h.useEffect)((()=>{y((0,v.aA)({loading:!0}));(async()=>{try{const e=await x.A.get(I,{params:{"Api-Token":"dt0c01.LR6CLRORJDDG566FNMMHLZ3M.VRNMEMKK4OSEQGVYJ4YFPK7KIBXV7IFZGFMODWOSNQHODGSHCSELGCQ7XSJBGF67"}});console.log(e.data),B(e.data)}catch(f){alert(f.message),console.error("Error fetching data: ",f)}finally{y((0,v.TO)())}})()}),[]),(0,h.useEffect)((()=>{S("/problem_recommendations/".concat(g,"/").concat(u))}),[T]),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"problem-id",children:[(0,N.jsx)("strong",{children:"ID: "}),(0,N.jsx)("label",{id:"displayId",name:"displayId",children:null===T||void 0===T?void 0:T.displayId})]}),(0,N.jsx)("section",{className:"section",children:(0,N.jsxs)("div",{className:"two-column-layout",children:[(0,N.jsx)(i.A,{component:o.A,sx:{maxWidth:"40%"},children:(0,N.jsx)(l.A,{children:(0,N.jsxs)(s.A,{children:[(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none",width:"30%"},children:(0,N.jsx)("strong",{children:"Title:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none",width:"75%"},children:null===T||void 0===T?void 0:T.title})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Problem ID:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:null===T||void 0===T?void 0:T.displayId})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Problem Detected Time:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:T&&D(null===T||void 0===T?void 0:T.startTime)})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Problem Analysis End Date:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:T&&("-1"==(null===T||void 0===T?void 0:T.endTime)?"-":D(null===T||void 0===T?void 0:T.endTime))})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Total Down Time:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:T&&(()=>{const e=Math.abs((null===T||void 0===T?void 0:T.startTime)-(null===T||void 0===T?void 0:T.endTime)),n=Math.floor(e/6e4),t=Math.floor(n/60),i=n%60;return"".concat(String(t).padStart(2,"0")," hours ").concat(String(i).padStart(2,"0")," mins")})()})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Impact Level:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:null===T||void 0===T?void 0:T.impactLevel})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Severity Level:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:null===T||void 0===T?void 0:T.severityLevel})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Status:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:null===T||void 0===T?void 0:T.status})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Root Cause ID:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(null===T||void 0===T||null===(e=T.rootCauseEntity)||void 0===e||null===(n=e.entityId)||void 0===n?void 0:n.id)||"-"})]}),(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(0,N.jsx)("strong",{children:"Entity Name:"})}),(0,N.jsx)(d.A,{sx:{borderBottom:"none"},children:(null===T||void 0===T||null===(t=T.rootCauseEntity)||void 0===t?void 0:t.name)||"-"})]})]})})}),(0,N.jsx)("div",{className:"additional-content",children:(0,N.jsx)(R,{data:T})})]})}),(0,N.jsxs)("section",{className:"section-3",children:[(0,N.jsx)("h3",{children:"Remediation Details"}),(0,N.jsx)("br",{}),(0,N.jsx)("div",{className:"table-container",children:(0,N.jsx)(i.A,{component:o.A,children:(0,N.jsxs)(l.A,{sx:{minWidth:400},"aria-label":"simple table",children:[(0,N.jsx)(c.A,{children:(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Problem Title"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Recommendation"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Service Name"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Sub Problem Title"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Remediation Execution Start Time"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Remediation Execution End Time"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Script Path"})}),(0,N.jsx)(d.A,{children:(0,N.jsx)("strong",{children:"Edit"})})]})}),(0,N.jsx)(s.A,{children:null===p||void 0===p?void 0:p.map(((e,n)=>(0,N.jsxs)(r.A,{children:[(0,N.jsx)(d.A,{children:e.problemTitle}),(0,N.jsx)(d.A,{children:e.recommendationText}),(0,N.jsx)(d.A,{children:e.serviceName}),(0,N.jsx)(d.A,{children:e.subProblemTitle}),(0,N.jsx)(d.A,{children:e.scriptExecutionStartAt}),(0,N.jsx)(d.A,{children:e.problemEndAt}),(0,N.jsx)(d.A,{children:e.scriptPath}),(0,N.jsx)(d.A,{children:(0,N.jsx)(a.A,{onClick:()=>{E("/recommendation/".concat(e.remediationId,"/").concat(e.problemId))},children:(0,N.jsx)(j.rzS,{})})})]},n)))})]})})})]})]})}}}]);
//# sourceMappingURL=691.eda8615d.chunk.js.map