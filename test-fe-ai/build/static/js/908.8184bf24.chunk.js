"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[908],{5908:(e,t,d)=>{d.r(t),d.d(t,{default:()=>f});var i=d(3471),n=d(5043),a=d(184),l=d(3216),s=d(6446),r=d(1906),o=d(9733),c=d(5865),h=d(8777),m=d(3003),x=d(8165);const u=()=>{const[e,t]=(0,n.useState)(!1),[d,i]=(0,n.useState)(null),[a,l]=(0,n.useState)(null),s=(0,m.wA)();return{isLoading:e,error:d,data:a,deleteData:async e=>{t(!0);try{const t=await h.A.delete(e);l(t),s((0,x.nm)({alert:t.data,variant:"success",open:!0}))}catch(d){s((0,x.nm)({alert:(null===d||void 0===d?void 0:d.message)||"error",variant:"info",open:!0}))}finally{t(!1),setTimeout((()=>{}),3e3)}}}};var j=d(579);const p={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},b=e=>{let{open:t,problemId:d,remediationId:i,handleOpen:n}=e;const{isLoading:a,error:l,data:h,deleteData:m}=u();return 200==(null===h||void 0===h?void 0:h.status)&&n(!1),(0,j.jsx)("div",{children:(0,j.jsx)(o.A,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(s.A,{sx:p,children:[(0,j.jsx)(c.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Confirm Your Request!"}),(0,j.jsx)(c.A,{id:"modal-modal-description",sx:{mt:2},children:"This action cannot be undone. Are you sure you want to delete?"}),(0,j.jsx)("br",{}),(0,j.jsxs)(s.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,j.jsx)(r.A,{variant:"outlined",onClick:()=>{m("/delete_remediation/".concat(i,"/").concat(d))},sx:{mr:2},children:a?"Loading...":"Delete"}),(0,j.jsx)(r.A,{variant:"contained",onClick:()=>{n(!1)},children:"Cancel"})]})," "]})})})};var v=d(594);const f=()=>{const[e,t]=(0,n.useState)([]),[d,s]=(0,n.useState)(!1),[r,o]=(0,n.useState)({}),[c,h]=(0,n.useState)([]),m=(0,l.Zp)(),{isLoading:x,error:u,data:p,getData:f}=(0,v.A)();(0,n.useEffect)((()=>{f("/problems_with_remediations")}),[d]),(0,n.useEffect)((()=>{t(p),h(p)}),[p]);return(0,j.jsxs)("div",{children:[d&&(0,j.jsx)(b,{handleOpen:()=>{s(!d)},open:!0,problemId:null===r||void 0===r?void 0:r.problemId,remediationId:null===r||void 0===r?void 0:r.remediationId}),(0,j.jsx)("div",{className:"table-header",children:(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:"table-name",children:"Remediation Records"}),(0,j.jsx)("p",{className:"remediation-table-description",children:"View the details of remediation actions."})]})}),(0,j.jsx)("div",{className:"container",children:(0,j.jsxs)("table",{id:"execution-table",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{children:"ProblemId"}),(0,j.jsx)("th",{children:"Problem Title"}),(0,j.jsx)("th",{children:"Sub-problem"}),(0,j.jsx)("th",{children:"Resolution Script"}),(0,j.jsx)("th",{children:"Recommendation"}),(0,j.jsx)("th",{children:"Create Date"}),(0,j.jsx)("th",{children:"Last Update"}),(0,j.jsx)("th",{children:"Owner"}),(0,j.jsx)("th",{children:"Edit"}),(0,j.jsx)("th",{children:"Delete"})]})}),(0,j.jsx)("tbody",{children:null===c||void 0===c?void 0:c.map((e=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{children:e.problemId}),(0,j.jsx)("td",{children:e.problemTitle}),(0,j.jsx)("td",{children:e.subProblemTitle||"N/A"}),(0,j.jsx)("td",{children:e.scriptPath}),(0,j.jsx)("td",{children:e.recommendationText}),(0,j.jsx)("td",{children:e.createdAt}),(0,j.jsx)("td",{children:e.lastUpdateAt}),(0,j.jsxs)("td",{children:[e.Owner," John"]}),(0,j.jsx)("td",{children:(0,j.jsx)("button",{className:"edit-button",onClick:()=>{m("/recommendation/".concat(e.remediationId,"/").concat(e.problemId))},children:(0,j.jsx)(a.uO9,{})})}),(0,j.jsx)("td",{children:(0,j.jsx)("button",{className:"edit-button",onClick:()=>{s(!0),o({problemId:null===e||void 0===e?void 0:e.problemId,remediationId:e.remediationId})},children:(0,j.jsx)(i.A,{})})})]},e.id)))})]})})]})}}}]);
//# sourceMappingURL=908.8184bf24.chunk.js.map