{"version":3,"file":"static/js/39.64fc5b45.chunk.js","mappings":"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","sources":["view/remediation-dashboard/EditRuleForm.js"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport React, { useEffect, useRef } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport useFetch_GET from \"../../services/http/Get\";\nimport useFetch_POST from \"../../services/http/Post\";\nimport \"./RemidiationForm.css\";\n\nconst EditRuleForm = () => {\n  const { isLoading, error, data, postData } = useFetch_POST();\n  const {\n    isLoading: getLoading,\n    error: getError,\n    data: dataObj,\n    getData,\n  } = useFetch_GET();\n  const problem = useSelector((state) => state.problem);\n  const formikRef = useRef(null);\n  const navigate = useNavigate();\n  const validationSchema = Yup.object().shape({\n    resolutionScript: Yup.string().required(\"This field is required\"),\n    recommendation: Yup.string().required(\"This field is required\"),\n    serviceName: Yup.string().required(\"This field is required\"),\n    subProblemTitle: Yup.string().required(\"This field is required\"),\n    problemTitle: Yup.string().required(\"This field is required\"),\n  });\n\n  const { remediationId, problemId } = useParams();\n\n  useEffect(() => {\n    getData(`/get_remediation/${remediationId}`);\n  }, []);\n\n  useEffect(() => {\n    if (dataObj && formikRef.current) {\n      formikRef.current.setValues({\n        problemTitle: dataObj.problemTitle || \"\",\n        subProblemTitle: dataObj.subProblemTitle || \"\",\n        resolutionScript: dataObj.scriptPath || \"\",\n        recommendation: dataObj.recommendationText || \"\",\n        serviceName: dataObj.serviceName || \"\",\n      });\n    }\n  }, [dataObj]);\n\n  const handleSubmit = async (values) => {\n    values[\"problemId\"] = problem?.problemId;\n    values[\"status\"] = \"resolved\";\n    postData(`/edit_remediation/${problemId}/${remediationId}`, values);\n  };\n  if (data?.status === 200) navigate(\"/recommendation\");\n  return (\n    <div className=\"middle-panel\">\n      <div className=\"table-header\">Edit Recommendation</div>\n      <Formik\n        initialValues={{\n          problemTitle: \"\",\n          subProblemTitle: \"\",\n          resolutionScript: \"\",\n          recommendation: \"\",\n          serviceName: \"\",\n        }}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n        innerRef={formikRef}\n      >\n        {({ isSubmitting }) => (\n          <Form>\n            <div className=\"middle-panel-text\">\n              <div className=\"form-value\">\n                <div style={{ width: \"20%\", marginTop: \"10px\" }}>\n                  <p className=\"recommendation-title\">\n                    <strong>Problem Title: </strong>\n                  </p>\n                </div>\n                <div\n                  style={{\n                    width: \"80%\",\n                    display: \"flex\",\n                    justifyContent: \"start\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Field\n                    className=\"new-rule-input-box\"\n                    name=\"problemTitle\"\n                    type=\"text\"\n                    title=\"Problem title\"\n                  />\n                  <ErrorMessage\n                    name=\"problemTitle\"\n                    component=\"div\"\n                    className=\"error\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-value\">\n                <div style={{ width: \"20%\", marginTop: \"10px\" }}>\n                  <p className=\"recommendation-title\">\n                    <strong>Sub-Problem: </strong>\n                  </p>\n                </div>\n                <div\n                  style={{\n                    width: \"80%\",\n                    display: \"flex\",\n                    justifyContent: \"start\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Field\n                    className=\"new-rule-input-box\"\n                    name=\"subProblemTitle\"\n                    type=\"text\"\n                    title=\"Sub-Problem\"\n                  />\n                  <ErrorMessage\n                    name=\"subProblemTitle\"\n                    component=\"div\"\n                    className=\"error\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-value\">\n                <div style={{ width: \"20%\", marginTop: \"10px\" }}>\n                  <p className=\"recommendation-title\">\n                    <strong>Service Name: </strong>\n                  </p>\n                </div>\n                <div\n                  style={{\n                    width: \"80%\",\n                    display: \"flex\",\n                    justifyContent: \"start\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Field\n                    className=\"new-rule-input-box\"\n                    name=\"serviceName\"\n                    type=\"text\"\n                    title=\"Service-Name\"\n                  />\n                  <ErrorMessage\n                    name=\"serviceName\"\n                    component=\"div\"\n                    className=\"error\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-value\">\n                <div style={{ width: \"20%\", marginTop: \"10px\" }}>\n                  <p className=\"recommendation-title\">\n                    <strong>Resolution Script: </strong>\n                  </p>\n                </div>\n                <div\n                  style={{\n                    width: \"80%\",\n                    display: \"flex\",\n                    justifyContent: \"start\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Field\n                    className=\"new-rule-input-box\"\n                    name=\"resolutionScript\"\n                    type=\"text\"\n                    title=\"Resolution script\"\n                  />\n                  <ErrorMessage\n                    name=\"resolutionScript\"\n                    component=\"div\"\n                    className=\"error\"\n                  />\n                </div>\n              </div>\n              <div className=\"form-value\">\n                <div style={{ width: \"20%\", marginTop: \"10px\" }}>\n                  <p className=\"recommendation-title\">\n                    <strong>Recommendation: </strong>\n                  </p>\n                </div>\n                <div\n                  style={{\n                    width: \"80%\",\n                    display: \"flex\",\n                    justifyContent: \"start\",\n                    marginTop: \"10px\",\n                  }}\n                >\n                  <Field\n                    className=\"new-rule-input-box\"\n                    name=\"recommendation\"\n                    type=\"text\"\n                    title=\"Recommendation\"\n                  />\n                  <ErrorMessage\n                    name=\"recommendation\"\n                    component=\"div\"\n                    className=\"error\"\n                  />\n                </div>\n              </div>\n            </div>\n            <button type=\"submit\" className=\"button\" disabled={isSubmitting}>\n              Update\n            </button>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default EditRuleForm;\n"],"names":["EditRuleForm","isLoading","error","data","postData","useFetch_POST","getLoading","getError","dataObj","getData","useFetch_GET","problem","useSelector","state","formikRef","useRef","navigate","useNavigate","validationSchema","Yup","shape","resolutionScript","required","recommendation","serviceName","subProblemTitle","problemTitle","remediationId","problemId","useParams","useEffect","concat","current","setValues","scriptPath","recommendationText","status","_jsxs","className","children","_jsx","Formik","initialValues","onSubmit","async","values","innerRef","_ref","isSubmitting","Form","style","width","marginTop","display","justifyContent","Field","name","type","title","ErrorMessage","component","disabled"],"sourceRoot":""}