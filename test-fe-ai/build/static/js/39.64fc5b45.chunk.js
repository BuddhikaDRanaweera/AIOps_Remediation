"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[39],{4039:(e,i,s)=>{s.r(i),s.d(i,{default:()=>c});var t=s(3892),r=s(5043),l=s(3003),n=s(3216),a=s(899),o=s(594),d=s(1658),m=(s(6349),s(579));const c=()=>{const{isLoading:e,error:i,data:s,postData:c}=(0,d.A)(),{isLoading:p,error:u,data:x,getData:h}=(0,o.A)(),j=(0,l.d4)((e=>e.problem)),v=(0,r.useRef)(null),b=(0,n.Zp)(),N=a.Ik().shape({resolutionScript:a.Yj().required("This field is required"),recommendation:a.Yj().required("This field is required"),serviceName:a.Yj().required("This field is required"),subProblemTitle:a.Yj().required("This field is required"),problemTitle:a.Yj().required("This field is required")}),{remediationId:f,problemId:T}=(0,n.g)();(0,r.useEffect)((()=>{h("/get_remediation/".concat(f))}),[]),(0,r.useEffect)((()=>{x&&v.current&&v.current.setValues({problemTitle:x.problemTitle||"",subProblemTitle:x.subProblemTitle||"",resolutionScript:x.scriptPath||"",recommendation:x.recommendationText||"",serviceName:x.serviceName||""})}),[x]);return 200===(null===s||void 0===s?void 0:s.status)&&b("/recommendation"),(0,m.jsxs)("div",{className:"middle-panel",children:[(0,m.jsx)("div",{className:"table-header",children:"Edit Recommendation"}),(0,m.jsx)(t.l1,{initialValues:{problemTitle:"",subProblemTitle:"",resolutionScript:"",recommendation:"",serviceName:""},validationSchema:N,onSubmit:async e=>{e.problemId=null===j||void 0===j?void 0:j.problemId,e.status="resolved",c("/edit_remediation/".concat(T,"/").concat(f),e)},innerRef:v,children:e=>{let{isSubmitting:i}=e;return(0,m.jsxs)(t.lV,{children:[(0,m.jsxs)("div",{className:"middle-panel-text",children:[(0,m.jsxs)("div",{className:"form-value",children:[(0,m.jsx)("div",{style:{width:"20%",marginTop:"10px"},children:(0,m.jsx)("p",{className:"recommendation-title",children:(0,m.jsx)("strong",{children:"Problem Title: "})})}),(0,m.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"start",marginTop:"10px"},children:[(0,m.jsx)(t.D0,{className:"new-rule-input-box",name:"problemTitle",type:"text",title:"Problem title"}),(0,m.jsx)(t.Kw,{name:"problemTitle",component:"div",className:"error"})]})]}),(0,m.jsxs)("div",{className:"form-value",children:[(0,m.jsx)("div",{style:{width:"20%",marginTop:"10px"},children:(0,m.jsx)("p",{className:"recommendation-title",children:(0,m.jsx)("strong",{children:"Sub-Problem: "})})}),(0,m.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"start",marginTop:"10px"},children:[(0,m.jsx)(t.D0,{className:"new-rule-input-box",name:"subProblemTitle",type:"text",title:"Sub-Problem"}),(0,m.jsx)(t.Kw,{name:"subProblemTitle",component:"div",className:"error"})]})]}),(0,m.jsxs)("div",{className:"form-value",children:[(0,m.jsx)("div",{style:{width:"20%",marginTop:"10px"},children:(0,m.jsx)("p",{className:"recommendation-title",children:(0,m.jsx)("strong",{children:"Service Name: "})})}),(0,m.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"start",marginTop:"10px"},children:[(0,m.jsx)(t.D0,{className:"new-rule-input-box",name:"serviceName",type:"text",title:"Service-Name"}),(0,m.jsx)(t.Kw,{name:"serviceName",component:"div",className:"error"})]})]}),(0,m.jsxs)("div",{className:"form-value",children:[(0,m.jsx)("div",{style:{width:"20%",marginTop:"10px"},children:(0,m.jsx)("p",{className:"recommendation-title",children:(0,m.jsx)("strong",{children:"Resolution Script: "})})}),(0,m.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"start",marginTop:"10px"},children:[(0,m.jsx)(t.D0,{className:"new-rule-input-box",name:"resolutionScript",type:"text",title:"Resolution script"}),(0,m.jsx)(t.Kw,{name:"resolutionScript",component:"div",className:"error"})]})]}),(0,m.jsxs)("div",{className:"form-value",children:[(0,m.jsx)("div",{style:{width:"20%",marginTop:"10px"},children:(0,m.jsx)("p",{className:"recommendation-title",children:(0,m.jsx)("strong",{children:"Recommendation: "})})}),(0,m.jsxs)("div",{style:{width:"80%",display:"flex",justifyContent:"start",marginTop:"10px"},children:[(0,m.jsx)(t.D0,{className:"new-rule-input-box",name:"recommendation",type:"text",title:"Recommendation"}),(0,m.jsx)(t.Kw,{name:"recommendation",component:"div",className:"error"})]})]})]}),(0,m.jsx)("button",{type:"submit",className:"button",disabled:i,children:"Update"})]})}})]})}},6349:()=>{}}]);
//# sourceMappingURL=39.64fc5b45.chunk.js.map