"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[757],{757:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var l=i(5043),s=i(3216),n=i(594),d=i(579);const r=()=>{const{isLoading:e,error:t,data:i,getData:r}=(0,n.A)(),[c,a]=(0,l.useState)([]),[o,h]=(0,l.useState)([]),x=(0,s.Zp)();(0,l.useEffect)((()=>{r("/get_audit_data")}),[]),console.log(c),(0,l.useEffect)((()=>{a(i),h(i)}),[i]);const j=(e,t)=>{if(null==e||null==t)return"N/A";{const i=new Date(e),l=new Date(t)-i;return Math.floor(l/6e4)}};return(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{className:"table-header",children:[(0,d.jsxs)("div",{className:"table-name-description",children:[(0,d.jsx)("h2",{className:"table-name",children:"Remediation Execution Records"}),(0,d.jsx)("p",{className:"execution-table-description",children:"View the execution history of remediation actions."})]}),(0,d.jsxs)("div",{className:"filters",children:[(0,d.jsxs)("select",{id:"remediation-filter",onChange:e=>{const t=e.target.value;h(t?c.filter((e=>e.serviceName===t)):c)},children:[(0,d.jsx)("option",{value:"",children:"Filter by Service Name"}),(0,d.jsx)("option",{value:"apache2",children:"Apache2"}),(0,d.jsx)("option",{value:"OneAgent",children:"OneAgent"}),(0,d.jsx)("option",{value:"MySQL",children:"MySQL"})]}),(0,d.jsxs)("select",{id:"status-filter",onChange:e=>{const t=e.target.value;h(t?c.filter((e=>e.status===t)):c)},children:[(0,d.jsx)("option",{value:"",children:"Filter by Status"}),(0,d.jsx)("option",{value:"CLOSED",children:"Closed"}),(0,d.jsx)("option",{value:"IN_PROGRESS",children:"In Progress"}),(0,d.jsx)("option",{value:"FAILED",children:"Failed"})]})]})]}),(0,d.jsx)("div",{className:"container",children:(0,d.jsxs)("table",{id:"execution-table",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"ID"}),(0,d.jsx)("th",{children:"DisplayID"}),(0,d.jsx)("th",{children:"Problem Title"}),(0,d.jsx)("th",{children:"Sub Problem Title"}),(0,d.jsx)("th",{children:"Impacted Entity"}),(0,d.jsx)("th",{children:"Problem Impact"}),(0,d.jsx)("th",{children:"Problem Severity"}),(0,d.jsx)("th",{children:"Status"}),(0,d.jsx)("th",{children:"Service Name"}),(0,d.jsx)("th",{children:"Problem Detected At"}),(0,d.jsx)("th",{children:"Problem End At"}),(0,d.jsx)("th",{children:"Downtime"}),(0,d.jsx)("th",{children:"Action Type"}),(0,d.jsx)("th",{children:"Comment"})]})}),(0,d.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((e=>(0,d.jsxs)("tr",{style:{cursor:"pointer"},onClick:()=>x("/".concat(e.pid,"/").concat(e.executedProblemId)),children:[(0,d.jsx)("td",{children:e.id}),(0,d.jsx)("td",{children:e.displayId}),(0,d.jsx)("td",{children:e.problemTitle}),(0,d.jsx)("td",{children:e.subProblemTitle||"N/A"}),(0,d.jsx)("td",{children:e.impactedEntity}),(0,d.jsx)("td",{children:e.problemImpact}),(0,d.jsx)("td",{children:e.problemSeverity}),(0,d.jsx)("td",{children:e.status}),(0,d.jsx)("td",{children:e.serviceName}),(0,d.jsx)("td",{children:e.problemDetectedAt}),(0,d.jsx)("td",{children:(null===e||void 0===e?void 0:e.problemEndAt)||"N/A"}),(0,d.jsxs)("td",{children:[j(null===e||void 0===e?void 0:e.problemDetectedAt,null===e||void 0===e?void 0:e.problemEndAt)," ","min"]}),(0,d.jsx)("td",{children:e.actionType.toUpperCase()}),(0,d.jsx)("td",{children:e.comments})]},e.ID)))})]})})]})}}}]);
//# sourceMappingURL=757.fd8ccf92.chunk.js.map