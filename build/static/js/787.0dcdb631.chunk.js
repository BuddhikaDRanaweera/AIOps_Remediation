"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[787],{6787:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var a=s(3471),l=s(5043),d=s(184),i=s(3216),n=s(6446),r=s(1906),c=s(9733),o=s(5865),m=s(8777),x=s(3003),h=s(8165);const p=()=>{const[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(null),[d,i]=(0,l.useState)(null),n=(0,x.wA)();return{isLoading:e,error:s,data:d,deleteData:async e=>{t(!0);try{const t=await m.A.delete(e);i(t),n((0,h.nm)({alert:t.data,variant:"success",open:!0}))}catch(s){n((0,h.nm)({alert:(null===s||void 0===s?void 0:s.message)||"error",variant:"info",open:!0}))}finally{t(!1),setTimeout((()=>{}),3e3)}}}};var j=s(579);const b={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4},u=e=>{let{open:t,problemId:s,remediationId:a,handleOpen:l}=e;const{isLoading:d,error:i,data:m,deleteData:x}=p();return 200==(null===m||void 0===m?void 0:m.status)&&l(!1),(0,j.jsx)("div",{children:(0,j.jsx)(c.A,{open:t,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,j.jsxs)(n.A,{sx:b,children:[(0,j.jsx)(o.A,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Confirm Your Request!"}),(0,j.jsx)(o.A,{id:"modal-modal-description",sx:{mt:2},children:"This action cannot be undone. Are you sure you want to delete?"}),(0,j.jsx)("br",{}),(0,j.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,j.jsx)(r.A,{variant:"outlined",onClick:()=>{x("/delete_remediation/".concat(a,"/").concat(s))},sx:{mr:2},children:d?"Loading...":"Delete"}),(0,j.jsx)(r.A,{variant:"contained",onClick:()=>{l(!1)},children:"Cancel"})]})," "]})})})};var N=s(594);const v=()=>{const[e,t]=(0,l.useState)([]),[s,n]=(0,l.useState)(!1),[r,c]=(0,l.useState)({}),[o,m]=(0,l.useState)([]),x=(0,i.Zp)(),{isLoading:h,error:p,data:b,getData:v}=(0,N.A)();(0,l.useEffect)((()=>{v("/problems_with_remediations")}),[s]),(0,l.useEffect)((()=>{t(b),m(b)}),[b]);return(0,j.jsxs)("div",{children:[s&&(0,j.jsx)(u,{handleOpen:()=>{n(!s)},open:!0,problemId:null===r||void 0===r?void 0:r.problemId,remediationId:null===r||void 0===r?void 0:r.remediationId}),(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:"text-start px-5 py-2",children:[(0,j.jsx)("h2",{className:"font-semibold text-lg",children:"Remediation Records"}),(0,j.jsx)("p",{className:"text-sm",children:"View the details of remediation actions."})]})}),(0,j.jsxs)("div",{className:"px-5 py-2 w-full h-[calc(100vh-150px)] overflow-auto",children:[(0,j.jsx)("div",{className:"hidden md:block",children:(0,j.jsxs)("table",{className:"w-full bg-white overflow-hidden shadow-sm shadow-slate-400 text-sm text-left rtl:text-right",children:[(0,j.jsx)("thead",{className:"text-xs bg-slate-300 uppercase",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{className:"px-6 py-3",children:"ProblemId"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Problem Title"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Sub-problem"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Resolution Script"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Recommendation"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Effort Saving"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Create Date"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Last Update"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Owner"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Edit"}),(0,j.jsx)("th",{className:"px-6 py-3",children:"Delete"})]})}),(0,j.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((e=>(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"p-2 text-center ",children:e.problemId}),(0,j.jsx)("td",{className:"p-2 text-start truncate max-w-40",children:e.problemTitle}),(0,j.jsx)("td",{className:"p-2 text-start",children:e.subProblemTitle||"N/A"}),(0,j.jsx)("td",{className:"p-2 text-start ",children:e.scriptPath}),(0,j.jsx)("td",{className:"p-2 text-start",children:e.recommendationText}),(0,j.jsxs)("td",{className:"p-2 text-start",children:[e.efforTime||25," min"]}),(0,j.jsx)("td",{className:"p-2 text-start",children:e.createdAt}),(0,j.jsx)("td",{className:"p-2 text-start",children:e.lastUpdateAt}),(0,j.jsxs)("td",{className:"p-2 text-start",children:[e.Owner," John"]}),(0,j.jsx)("td",{className:"p-2 text-center",children:(0,j.jsx)("button",{className:"edit-button",onClick:()=>{x("/recommendation/".concat(e.remediationId,"/").concat(e.problemId))},children:(0,j.jsx)(d.uO9,{className:"text-2xl hover:text-main"})})}),(0,j.jsx)("td",{className:"p-2 text-center",children:(0,j.jsx)("button",{className:"edit-button",onClick:()=>{n(!0),c({problemId:null===e||void 0===e?void 0:e.problemId,remediationId:e.remediationId})},children:(0,j.jsx)(a.A,{className:"text-2xl hover:text-main"})})})]},e.id)))})]})}),(0,j.jsx)("div",{className:"md:hidden",children:null===o||void 0===o?void 0:o.map((e=>(0,j.jsxs)("div",{className:"bg-white shadow-sm shadow-slate-400 mb-4 p-4 rounded-md",children:[(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"ProblemId:"})," ",e.problemId]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Problem Title:"})," ",e.problemTitle]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Sub-problem:"})," ",e.subProblemTitle||"N/A"]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Resolution Script:"})," ",e.scriptPath]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Recommendation:"})," ",e.recommendationText]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Create Date:"})," ",e.createdAt]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Last Update:"})," ",e.lastUpdateAt]}),(0,j.jsxs)("div",{className:"text-sm mb-2",children:[(0,j.jsx)("strong",{children:"Owner:"})," ",e.Owner," John"]}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("button",{className:"edit-button flex-1",onClick:()=>{x("/recommendation/".concat(e.remediationId,"/").concat(e.problemId))},children:(0,j.jsx)(d.uO9,{className:"text-2xl hover:text-main"})}),(0,j.jsx)("button",{className:"edit-button flex-1",onClick:()=>{n(!0),c({problemId:null===e||void 0===e?void 0:e.problemId,remediationId:e.remediationId})},children:(0,j.jsx)(a.A,{className:"text-2xl hover:text-main"})})]})]},e.id)))})]})]})}}}]);
//# sourceMappingURL=787.0dcdb631.chunk.js.map