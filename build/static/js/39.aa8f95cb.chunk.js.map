{"version":3,"file":"static/js/39.aa8f95cb.chunk.js","mappings":"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","sources":["view/remediation-dashboard/EditRuleForm.js"],"sourcesContent":["import { ErrorMessage, Field, Form, Formik } from \"formik\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport * as Yup from \"yup\";\r\nimport useFetch_GET from \"../../services/http/Get\";\r\nimport useFetch_POST from \"../../services/http/Post\";\r\n\r\nconst EditRuleForm = () => {\r\n  const { isLoading, error, data, postData } = useFetch_POST();\r\n  const {\r\n    isLoading: getLoading,\r\n    error: getError,\r\n    data: dataObj,\r\n    getData,\r\n  } = useFetch_GET();\r\n  const problem = useSelector((state) => state.problem);\r\n  const formikRef = useRef(null);\r\n  const navigate = useNavigate();\r\n  const validationSchema = Yup.object().shape({\r\n    resolutionScript: Yup.string().required(\"This field is required\"),\r\n    recommendation: Yup.string().required(\"This field is required\"),\r\n    serviceName: Yup.string().required(\"This field is required\"),\r\n    subProblemTitle: Yup.string().required(\"This field is required\"),\r\n    problemTitle: Yup.string().required(\"This field is required\"),\r\n  });\r\n\r\n  const { remediationId, problemId } = useParams();\r\n\r\n  useEffect(() => {\r\n    getData(`/get_remediation/${remediationId}`);\r\n  }, [remediationId]);\r\n\r\n  useEffect(() => {\r\n    if (dataObj && formikRef.current) {\r\n      formikRef.current.setValues({\r\n        problemTitle: dataObj.problemTitle || \"\",\r\n        subProblemTitle: dataObj.subProblemTitle || \"\",\r\n        resolutionScript: dataObj.scriptPath || \"\",\r\n        recommendation: dataObj.recommendationText || \"\",\r\n        serviceName: dataObj.serviceName || \"\",\r\n      });\r\n    }\r\n  }, [dataObj]);\r\n\r\n  const handleSubmit = async (values) => {\r\n    values[\"problemId\"] = problem?.problemId;\r\n    values[\"status\"] = \"resolved\";\r\n    postData(`/edit_remediation/${problemId}/${remediationId}`, values);\r\n  };\r\n\r\n  if (data?.status === 200) navigate(\"/recommendation\");\r\n\r\n  return (\r\n    <div className=\"flex justify-center items-center h-[calc(100vh-100px)] p-4\">\r\n      <div className=\"bg-white shadow-lg w-full md:w-[60%] p-6 mx-auto\">\r\n        <h1 className=\"text-2xl font-semibold text-gray-800 mb-6\">Edit Recommendation</h1>\r\n        <Formik\r\n          initialValues={{\r\n            problemTitle: \"\",\r\n            subProblemTitle: \"\",\r\n            resolutionScript: \"\",\r\n            recommendation: \"\",\r\n            serviceName: \"\",\r\n          }}\r\n          validationSchema={validationSchema}\r\n          onSubmit={handleSubmit}\r\n          innerRef={formikRef}\r\n        >\r\n          {({ isSubmitting }) => (\r\n            <Form>\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex flex-col md:flex-row items-start\">\r\n                  <label className=\"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4\" htmlFor=\"problemTitle\">\r\n                    Problem Title:\r\n                  </label>\r\n                  <div className=\"md:w-3/4\">\r\n                    <Field\r\n                      id=\"problemTitle\"\r\n                      name=\"problemTitle\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500\"\r\n                    />\r\n                    <ErrorMessage\r\n                      name=\"problemTitle\"\r\n                      component=\"div\"\r\n                      className=\"text-red-600 text-sm mt-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col md:flex-row items-start\">\r\n                  <label className=\"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4\" htmlFor=\"subProblemTitle\">\r\n                    Sub-Problem:\r\n                  </label>\r\n                  <div className=\"md:w-3/4\">\r\n                    <Field\r\n                      id=\"subProblemTitle\"\r\n                      name=\"subProblemTitle\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500\"\r\n                    />\r\n                    <ErrorMessage\r\n                      name=\"subProblemTitle\"\r\n                      component=\"div\"\r\n                      className=\"text-red-600 text-sm mt-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col md:flex-row items-start\">\r\n                  <label className=\"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4\" htmlFor=\"serviceName\">\r\n                    Service Name:\r\n                  </label>\r\n                  <div className=\"md:w-3/4\">\r\n                    <Field\r\n                      id=\"serviceName\"\r\n                      name=\"serviceName\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500\"\r\n                    />\r\n                    <ErrorMessage\r\n                      name=\"serviceName\"\r\n                      component=\"div\"\r\n                      className=\"text-red-600 text-sm mt-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col md:flex-row items-start\">\r\n                  <label className=\"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4\" htmlFor=\"resolutionScript\">\r\n                    Resolution Script:\r\n                  </label>\r\n                  <div className=\"md:w-3/4\">\r\n                    <Field\r\n                      id=\"resolutionScript\"\r\n                      name=\"resolutionScript\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500\"\r\n                    />\r\n                    <ErrorMessage\r\n                      name=\"resolutionScript\"\r\n                      component=\"div\"\r\n                      className=\"text-red-600 text-sm mt-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex flex-col md:flex-row items-start\">\r\n                  <label className=\"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4\" htmlFor=\"recommendation\">\r\n                    Recommendation:\r\n                  </label>\r\n                  <div className=\"md:w-3/4\">\r\n                    <Field\r\n                      id=\"recommendation\"\r\n                      name=\"recommendation\"\r\n                      type=\"text\"\r\n                      className=\"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500\"\r\n                    />\r\n                    <ErrorMessage\r\n                      name=\"recommendation\"\r\n                      component=\"div\"\r\n                      className=\"text-red-600 text-sm mt-1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-6 flex justify-center\">\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"px-6 py-2 bg-slate-200 outline-none shadow hover:bg-slate-300 focus:outline-none disabled:opacity-50\"\r\n                  disabled={isSubmitting}\r\n                >\r\n                  Update\r\n                </button>\r\n              </div>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditRuleForm;\r\n"],"names":["EditRuleForm","isLoading","error","data","postData","useFetch_POST","getLoading","getError","dataObj","getData","useFetch_GET","problem","useSelector","state","formikRef","useRef","navigate","useNavigate","validationSchema","Yup","shape","resolutionScript","required","recommendation","serviceName","subProblemTitle","problemTitle","remediationId","problemId","useParams","useEffect","concat","current","setValues","scriptPath","recommendationText","status","_jsx","className","children","_jsxs","Formik","initialValues","onSubmit","async","values","innerRef","_ref","isSubmitting","Form","htmlFor","Field","id","name","type","ErrorMessage","component","disabled"],"sourceRoot":""}