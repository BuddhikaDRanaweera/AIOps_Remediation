"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[292],{4292:(e,s,l)=>{l.r(s),l.d(s,{default:()=>m});var t=l(5043),a=l(594),o=l(3003),i=l(3216),c=l(695),d=l(579);const r=e=>{var s,l;let{data:r}=e;const n=(0,o.d4)((e=>e.problem.problemTitle)),m=(0,o.d4)((e=>e.problem.subProblemTitle)),{isLoading:u,error:x,data:b,getData:f}=(0,a.A)();(0,t.useEffect)((()=>{f("/audit-status")}),[]),b&&console.log(b,">>>>>>>");const[h,v]=(0,t.useState)("");(0,t.useEffect)((()=>{n&&(console.log(n,"kkk"),N((e=>n)))}),[n]),(0,t.useEffect)((()=>{if(console.log(m,"subProblemTitle"),m&&b){var e;console.log(m,"mils"),console.log(b,"oo");const s=null===b||void 0===b||null===(e=b.activity)||void 0===e?void 0:e.filter((e=>(null===e||void 0===e?void 0:e.serviceName)==m&&"OPEN"==(null===e||void 0===e?void 0:e.status)));console.log(s,"po"),v((e=>{var l;return null===(l=s[0])||void 0===l?void 0:l.pid}))}}),[m,b]);const g=(0,i.Zp)(),p=e=>{g(e)},[j,N]=(0,t.useState)(""),y=(0,o.wA)();return(0,t.useEffect)((()=>{console.log(r,"data")})),(0,d.jsx)("div",{children:(0,d.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,d.jsxs)("div",{className:" w-full",children:[(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"flex justify-start mb-1 text-sm font-medium text-gray-900",children:"Problem Title:"}),(0,d.jsxs)("select",{id:"problem-title",onChange:e=>{""!==e.target.value&&N((s=>e.target.value))},defaultValue:"",value:n,className:"bg-gray-50 border border-gray-300 text-gray-900 mb-2 text-sm focus:ring-2  focus:outline-none focus:ring-second block w-full p-2.5",children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select Problem"}),null===(s=Object.keys(r))||void 0===s?void 0:s.map(((e,s)=>(0,d.jsx)("option",{value:e,children:e},s)))]})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"flex justify-start mb-1 text-sm font-medium text-gray-900",children:"Sub-Problem:"}),(0,d.jsxs)("select",{disabled:""==j,id:"sub-problem",onChange:e=>{if(""!==j){const s=r[j].find((s=>s.serviceName==e.target.value));y((0,c.Gb)({problemTitle:j,subProblemTitle:e.target.value,problemId:s.id,serviceName:e.target.value}))}},defaultValue:"",value:m,className:"bg-gray-50 border border-gray-300 text-gray-900 mb-2 text-sm focus:ring-2  focus:outline-none focus:ring-second block w-full p-2.5",children:[(0,d.jsx)("option",{value:"",disabled:!0,children:"Select Service"}),null===(l=r[j])||void 0===l?void 0:l.map(((e,s)=>(0,d.jsx)("option",{value:e.serviceName,children:e.serviceName},s)))]})]}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("label",{className:"flex justify-start mb-1 text-sm font-medium text-gray-900",children:"Recommendation:"}),(0,d.jsxs)("select",{id:"sub-problem",className:"bg-gray-50 border border-gray-300 text-gray-900 mb-2 text-sm focus:ring-2  focus:outline-none focus:ring-second block w-full p-2.5",children:[(0,d.jsx)("option",{disabled:!0,children:"Select Recommendation"}),["Start Service","Recommendation 2","Recommendation 3"].map(((e,s)=>(0,d.jsx)("option",{children:e},s)))]})]})]}),(0,d.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,d.jsxs)("button",{id:"createRuleButton",className:"flex gap-2 focus:outline-none text-black bg-slate-100  hover:bg-slate-200 focus:ring-2  font-medium rounded-sm text-sm px-5 py-2 mb-2",onClick:()=>{m&&p("/assisted-analysis/".concat(h))},children:[(0,d.jsx)("i",{className:"fa-solid fa-chart-line my-auto"}),"Assisted Analysis"]}),(0,d.jsxs)("button",{id:"createRuleButton",className:"flex gap-2 focus:outline-none text-black bg-slate-100  hover:bg-slate-200 focus:ring-2  font-medium rounded-sm text-sm px-5 py-2 mb-2",onClick:()=>{p("/build-solution")},children:[(0,d.jsx)("i",{className:"fa-solid fa-chart-line my-auto"}),"Build Solution"]})]})]})})};var n=l(9014);const m=()=>{const[e,s]=(0,t.useState)([]),{isLoading:l,error:i,data:c,getData:m}=(0,a.A)(),{isLoading:u,error:x,data:b,getData:f}=(0,a.A)(),h=(0,o.wA)();(0,t.useEffect)((()=>{c&&(console.log(p(c),"new problem list"),s(p(c)))}),[c]);const[v,g]=(0,t.useState)(!1),p=e=>{const s={};return e.forEach((e=>{const{problemTitle:l,serviceName:t,id:a}=e;s[l]||(s[l]=[]),s[l].push({id:a,serviceName:t})})),s};return(0,t.useEffect)((()=>{m("/get_new_problems"),f("/problems")}),[]),(0,t.useEffect)((()=>{b&&console.log(b,"hvchjdscnm")}),[b]),(0,d.jsxs)("div",{className:"p-5 flex flex-col md:flex-row gap-2",children:[(0,d.jsxs)("div",{className:"flex flex-col gap-2 bg-white p-5 shadow-sm shadow-slate-400 md:w-[700px]",children:[(0,d.jsxs)("div",{className:"flex justify-between",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"Active Problem"}),(0,d.jsx)("button",{id:"createRuleButton",className:"focus:outline-none text-black bg-slate-200 hover:bg-slate-300 font-medium rounded-sm text-sm px-5 py-2 mb-2",onClick:()=>{h((0,n.Q)(!0))},children:"Create Rule"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(r,{data:e})})]}),(0,d.jsxs)("div",{className:"bg-white p-5 h-[400px] md:w-[calc(100vw-700px)] shadow-sm shadow-slate-400",children:[(0,d.jsxs)("div",{className:"flex justify-between ",children:[(0,d.jsx)("h3",{className:"text-sm font-semibold",children:"All Problems"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 px-2 border h-[29px] bg-slate-50 border-gray-200",children:[(0,d.jsx)("input",{id:"bordered-checkbox-1",type:"checkbox",value:"",checked:v,onChange:()=>{g((e=>!e))},name:"bordered-checkbox",className:" text-blue-600 bg-gray-100 border-gray-300"}),(0,d.jsx)("label",{className:"w-full text-gray-900",children:(0,d.jsx)("p",{className:"text-xs p-0 m-0",children:"Highlight"})})]})]}),(0,d.jsx)("div",{className:"py-2 h-[340px] overflow-auto",children:(0,d.jsxs)("table",{className:"w-full",children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{className:"bg-slate-200 text-sm",children:[(0,d.jsx)("th",{className:"p-2",children:"id"}),(0,d.jsx)("th",{children:"title"}),(0,d.jsx)("th",{children:"service"}),(0,d.jsx)("th",{children:"status"}),(0,d.jsx)("th",{})]})}),(0,d.jsx)("tbody",{children:null===b||void 0===b?void 0:b.map(((e,s)=>(0,d.jsxs)("tr",{className:"".concat("RESOLVED"==(null===e||void 0===e?void 0:e.status)&&v&&"bg-green-50"," ").concat("NOT_RESOLVED"==(null===e||void 0===e?void 0:e.status)&&v&&"bg-red-50"," hover:bg-slate-50 text-xs border-b border-gray-300"),children:[(0,d.jsx)("td",{className:"p-2",children:null===e||void 0===e?void 0:e.id}),(0,d.jsx)("td",{children:null===e||void 0===e?void 0:e.problemTitle}),(0,d.jsx)("td",{children:null===e||void 0===e?void 0:e.serviceName}),(0,d.jsx)("td",{children:null===e||void 0===e?void 0:e.status}),(0,d.jsx)("td",{})]},s)))})]})})]})]})}}}]);
//# sourceMappingURL=292.92738abd.chunk.js.map