"use strict";(self.webpackChunkaiops_fe=self.webpackChunkaiops_fe||[]).push([[39],{4039:(e,s,t)=>{t.r(s),t.d(s,{default:()=>c});var l=t(3892),r=t(5043),i=t(3003),m=t(3216),o=t(899),a=t(594),d=t(1658),n=t(579);const c=()=>{const{isLoading:e,error:s,data:t,postData:c}=(0,d.A)(),{isLoading:u,error:x,data:b,getData:f}=(0,a.A)(),p=(0,i.d4)((e=>e.problem)),h=(0,r.useRef)(null),j=(0,m.Zp)(),N=o.Ik().shape({resolutionScript:o.Yj().required("This field is required"),recommendation:o.Yj().required("This field is required"),serviceName:o.Yj().required("This field is required"),subProblemTitle:o.Yj().required("This field is required"),problemTitle:o.Yj().required("This field is required")}),{remediationId:v,problemId:w}=(0,m.g)();(0,r.useEffect)((()=>{f("/get_remediation/".concat(v))}),[v]),(0,r.useEffect)((()=>{b&&h.current&&h.current.setValues({problemTitle:b.problemTitle||"",subProblemTitle:b.subProblemTitle||"",resolutionScript:b.scriptPath||"",recommendation:b.recommendationText||"",serviceName:b.serviceName||""})}),[b]);return 200===(null===t||void 0===t?void 0:t.status)&&j("/recommendation"),(0,n.jsx)("div",{className:"flex justify-center items-center h-[calc(100vh-100px)] p-4",children:(0,n.jsxs)("div",{className:"bg-white shadow-lg w-full md:w-[60%] p-6 mx-auto",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Edit Recommendation"}),(0,n.jsx)(l.l1,{initialValues:{problemTitle:"",subProblemTitle:"",resolutionScript:"",recommendation:"",serviceName:""},validationSchema:N,onSubmit:async e=>{e.problemId=null===p||void 0===p?void 0:p.problemId,e.status="resolved",c("/edit_remediation/".concat(w,"/").concat(v),e)},innerRef:h,children:e=>{let{isSubmitting:s}=e;return(0,n.jsxs)(l.lV,{children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-start",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4",htmlFor:"problemTitle",children:"Problem Title:"}),(0,n.jsxs)("div",{className:"md:w-3/4",children:[(0,n.jsx)(l.D0,{id:"problemTitle",name:"problemTitle",type:"text",className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500"}),(0,n.jsx)(l.Kw,{name:"problemTitle",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-start",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4",htmlFor:"subProblemTitle",children:"Sub-Problem:"}),(0,n.jsxs)("div",{className:"md:w-3/4",children:[(0,n.jsx)(l.D0,{id:"subProblemTitle",name:"subProblemTitle",type:"text",className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500"}),(0,n.jsx)(l.Kw,{name:"subProblemTitle",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-start",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4",htmlFor:"serviceName",children:"Service Name:"}),(0,n.jsxs)("div",{className:"md:w-3/4",children:[(0,n.jsx)(l.D0,{id:"serviceName",name:"serviceName",type:"text",className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500"}),(0,n.jsx)(l.Kw,{name:"serviceName",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-start",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4",htmlFor:"resolutionScript",children:"Resolution Script:"}),(0,n.jsxs)("div",{className:"md:w-3/4",children:[(0,n.jsx)(l.D0,{id:"resolutionScript",name:"resolutionScript",type:"text",className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500"}),(0,n.jsx)(l.Kw,{name:"resolutionScript",component:"div",className:"text-red-600 text-sm mt-1"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-start",children:[(0,n.jsx)("label",{className:"text-gray-700 font-medium mb-2 md:mb-0 md:w-1/4",htmlFor:"recommendation",children:"Recommendation:"}),(0,n.jsxs)("div",{className:"md:w-3/4",children:[(0,n.jsx)(l.D0,{id:"recommendation",name:"recommendation",type:"text",className:"w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring focus:border-blue-500"}),(0,n.jsx)(l.Kw,{name:"recommendation",component:"div",className:"text-red-600 text-sm mt-1"})]})]})]}),(0,n.jsx)("div",{className:"mt-6 flex justify-center",children:(0,n.jsx)("button",{type:"submit",className:"px-6 py-2 bg-slate-200 outline-none shadow hover:bg-slate-300 focus:outline-none disabled:opacity-50",disabled:s,children:"Update"})})]})}})]})})}}}]);
//# sourceMappingURL=39.aa8f95cb.chunk.js.map